#summary Description of the JSON interface.

Note: This documentation is for BIMserver > 1.2

The JSON interface is mainly there to facilitate connecting to the BIMserver from web applications/web sites. It is however also very useful when connecting from other applications like for example web servers or BIM/CAD software.

= Connecting from a web application/web site =

For this purpose we have created a small javascript library, this library is being served by all BIMservers on [address]/js/bimserverapi.js. Your code should download it, and then instantiate the API like this: 
{{{
  var bimServerApi = new BimServerApi("http://examplebimserver:port");
}}}

= Connecting from non-javascript applications =

For every call you should send an HTTP POST request to http://[address+port]/jsonapi. The body of this request should be an UTF-8 encoded JSON message. The structure of this message is the following:
{{{
{
  request: {
    interface: "ServiceInterface",
    method: "getAllProjects",
    parameters: {
      onlyTopLevel: true
    }
    token: "ABCDEF1234567890"
  }
}
}}}

Of course the required parameters depend on the actual method you are calling. All parameters are always required. For almost all calls you have to include a valid token. The token can be obtained by 2 methods: "login" or "autologin". Those 2 methods do not require a token themselves.

A typical response for a "login" call looks like this:
{{{
{
  response: {
    result: "ABCDEF012345567890"
  }
}
}}}

When an exception occurs the message looks like this:
{{{
{
  response: {
    exception: {
      __type: "org.bimserver.shared.exceptions.UserException",
      message: "User account has been deleted"
    }
  }
}
}}}

The "__type" parameters here helps client-side libraries to construct and throw appropriate exception.