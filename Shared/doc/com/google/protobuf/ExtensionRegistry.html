<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0) on Thu Dec 22 14:37:39 CET 2011 -->
<title>ExtensionRegistry</title>
<meta name="date" content="2011-12-22">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ExtensionRegistry";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ExtensionRegistry.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/google/protobuf/DynamicMessage.Builder.html" title="class in com.google.protobuf"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/google/protobuf/ExtensionRegistry.ExtensionInfo.html" title="class in com.google.protobuf"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/google/protobuf/ExtensionRegistry.html" target="_top">Frames</a></li>
<li><a href="ExtensionRegistry.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.google.protobuf</div>
<h2 title="Class ExtensionRegistry" class="title">Class ExtensionRegistry</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../com/google/protobuf/ExtensionRegistryLite.html" title="class in com.google.protobuf">com.google.protobuf.ExtensionRegistryLite</a></li>
<li>
<ul class="inheritance">
<li>com.google.protobuf.ExtensionRegistry</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="strong">ExtensionRegistry</span>
extends <a href="../../../com/google/protobuf/ExtensionRegistryLite.html" title="class in com.google.protobuf">ExtensionRegistryLite</a></pre>
<div class="block">A table of known extensions, searchable by name or field number.  When
 parsing a protocol message that might have extensions, you must provide
 an <code>ExtensionRegistry</code> in which you have registered any extensions
 that you want to be able to parse.  Otherwise, those extensions will just
 be treated like unknown fields.

 <p>For example, if you had the <code>.proto</code> file:

 <pre>
 option java_class = "MyProto";

 message Foo {
   extensions 1000 to max;
 }

 extend Foo {
   optional int32 bar;
 }
 </pre>

 Then you might write code like:

 <pre>
 ExtensionRegistry registry = ExtensionRegistry.newInstance();
 registry.add(MyProto.bar);
 MyProto.Foo message = MyProto.Foo.parseFrom(input, registry);
 </pre>

 <p>Background:

 <p>You might wonder why this is necessary.  Two alternatives might come to
 mind.  First, you might imagine a system where generated extensions are
 automatically registered when their containing classes are loaded.  This
 is a popular technique, but is bad design; among other things, it creates a
 situation where behavior can change depending on what classes happen to be
 loaded.  It also introduces a security vulnerability, because an
 unprivileged class could cause its code to be called unexpectedly from a
 privileged class by registering itself as an extension of the right type.

 <p>Another option you might consider is lazy parsing: do not parse an
 extension until it is first requested, at which point the caller must
 provide a type to use.  This introduces a different set of problems.  First,
 it would require a mutex lock any time an extension was accessed, which
 would be slow.  Second, corrupt data would not be detected until first
 access, at which point it would be much harder to deal with it.  Third, it
 could violate the expectation that message objects are immutable, since the
 type provided could be any arbitrary message class.  An unprivileged user
 could take advantage of this to inject a mutable object into a message
 belonging to privileged code and create mischief.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>kenton@google.com Kenton Varda</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/google/protobuf/ExtensionRegistry.ExtensionInfo.html" title="class in com.google.protobuf">ExtensionRegistry.ExtensionInfo</a></strong></code>
<div class="block">A (Descriptor, Message) pair, returned by lookup methods.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/google/protobuf/ExtensionRegistry.html#add(com.google.protobuf.Descriptors.FieldDescriptor)">add</a></strong>(<a href="../../../com/google/protobuf/Descriptors.FieldDescriptor.html" title="class in com.google.protobuf">Descriptors.FieldDescriptor</a>&nbsp;type)</code>
<div class="block">Add a non-message-type extension to the registry by descriptor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/google/protobuf/ExtensionRegistry.html#add(com.google.protobuf.Descriptors.FieldDescriptor, com.google.protobuf.Message)">add</a></strong>(<a href="../../../com/google/protobuf/Descriptors.FieldDescriptor.html" title="class in com.google.protobuf">Descriptors.FieldDescriptor</a>&nbsp;type,
   <a href="../../../com/google/protobuf/Message.html" title="interface in com.google.protobuf">Message</a>&nbsp;defaultInstance)</code>
<div class="block">Add a message-type extension to the registry by descriptor.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/google/protobuf/ExtensionRegistry.html#add(com.google.protobuf.GeneratedMessage.GeneratedExtension)">add</a></strong>(<a href="../../../com/google/protobuf/GeneratedMessage.GeneratedExtension.html" title="class in com.google.protobuf">GeneratedMessage.GeneratedExtension</a>&lt;?,?&gt;&nbsp;extension)</code>
<div class="block">Add an extension from a generated file to the registry.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/google/protobuf/ExtensionRegistry.ExtensionInfo.html" title="class in com.google.protobuf">ExtensionRegistry.ExtensionInfo</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/google/protobuf/ExtensionRegistry.html#findExtensionByName(java.lang.String)">findExtensionByName</a></strong>(java.lang.String&nbsp;fullName)</code>
<div class="block">Find an extension by fully-qualified field name, in the proto namespace.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/google/protobuf/ExtensionRegistry.ExtensionInfo.html" title="class in com.google.protobuf">ExtensionRegistry.ExtensionInfo</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/google/protobuf/ExtensionRegistry.html#findExtensionByNumber(com.google.protobuf.Descriptors.Descriptor, int)">findExtensionByNumber</a></strong>(<a href="../../../com/google/protobuf/Descriptors.Descriptor.html" title="class in com.google.protobuf">Descriptors.Descriptor</a>&nbsp;containingType,
                     int&nbsp;fieldNumber)</code>
<div class="block">Find an extension by containing type and field number.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/google/protobuf/ExtensionRegistry.html" title="class in com.google.protobuf">ExtensionRegistry</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/google/protobuf/ExtensionRegistry.html#getEmptyRegistry()">getEmptyRegistry</a></strong>()</code>
<div class="block">Get the unmodifiable singleton empty instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/google/protobuf/ExtensionRegistry.html" title="class in com.google.protobuf">ExtensionRegistry</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/google/protobuf/ExtensionRegistry.html#getUnmodifiable()">getUnmodifiable</a></strong>()</code>
<div class="block">Returns an unmodifiable view of the registry.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/google/protobuf/ExtensionRegistry.html" title="class in com.google.protobuf">ExtensionRegistry</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/google/protobuf/ExtensionRegistry.html#newInstance()">newInstance</a></strong>()</code>
<div class="block">Construct a new, empty instance.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.google.protobuf.ExtensionRegistryLite">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.google.protobuf.<a href="../../../com/google/protobuf/ExtensionRegistryLite.html" title="class in com.google.protobuf">ExtensionRegistryLite</a></h3>
<code><a href="../../../com/google/protobuf/ExtensionRegistryLite.html#add(com.google.protobuf.GeneratedMessageLite.GeneratedExtension)">add</a>, <a href="../../../com/google/protobuf/ExtensionRegistryLite.html#findLiteExtensionByNumber(ContainingType, int)">findLiteExtensionByNumber</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="newInstance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newInstance</h4>
<pre>public static&nbsp;<a href="../../../com/google/protobuf/ExtensionRegistry.html" title="class in com.google.protobuf">ExtensionRegistry</a>&nbsp;newInstance()</pre>
<div class="block">Construct a new, empty instance.</div>
</li>
</ul>
<a name="getEmptyRegistry()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEmptyRegistry</h4>
<pre>public static&nbsp;<a href="../../../com/google/protobuf/ExtensionRegistry.html" title="class in com.google.protobuf">ExtensionRegistry</a>&nbsp;getEmptyRegistry()</pre>
<div class="block">Get the unmodifiable singleton empty instance.</div>
</li>
</ul>
<a name="getUnmodifiable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUnmodifiable</h4>
<pre>public&nbsp;<a href="../../../com/google/protobuf/ExtensionRegistry.html" title="class in com.google.protobuf">ExtensionRegistry</a>&nbsp;getUnmodifiable()</pre>
<div class="block">Returns an unmodifiable view of the registry.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../com/google/protobuf/ExtensionRegistryLite.html#getUnmodifiable()">getUnmodifiable</a></code>&nbsp;in class&nbsp;<code><a href="../../../com/google/protobuf/ExtensionRegistryLite.html" title="class in com.google.protobuf">ExtensionRegistryLite</a></code></dd>
</dl>
</li>
</ul>
<a name="findExtensionByName(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findExtensionByName</h4>
<pre>public&nbsp;<a href="../../../com/google/protobuf/ExtensionRegistry.ExtensionInfo.html" title="class in com.google.protobuf">ExtensionRegistry.ExtensionInfo</a>&nbsp;findExtensionByName(java.lang.String&nbsp;fullName)</pre>
<div class="block">Find an extension by fully-qualified field name, in the proto namespace.
 I.e. <code>result.descriptor.fullName()</code> will match <code>fullName</code> if
 a match is found.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Information about the extension if found, or <code>null</code>
         otherwise.</dd></dl>
</li>
</ul>
<a name="findExtensionByNumber(com.google.protobuf.Descriptors.Descriptor, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findExtensionByNumber</h4>
<pre>public&nbsp;<a href="../../../com/google/protobuf/ExtensionRegistry.ExtensionInfo.html" title="class in com.google.protobuf">ExtensionRegistry.ExtensionInfo</a>&nbsp;findExtensionByNumber(<a href="../../../com/google/protobuf/Descriptors.Descriptor.html" title="class in com.google.protobuf">Descriptors.Descriptor</a>&nbsp;containingType,
                                                    int&nbsp;fieldNumber)</pre>
<div class="block">Find an extension by containing type and field number.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Information about the extension if found, or <code>null</code>
         otherwise.</dd></dl>
</li>
</ul>
<a name="add(com.google.protobuf.GeneratedMessage.GeneratedExtension)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(<a href="../../../com/google/protobuf/GeneratedMessage.GeneratedExtension.html" title="class in com.google.protobuf">GeneratedMessage.GeneratedExtension</a>&lt;?,?&gt;&nbsp;extension)</pre>
<div class="block">Add an extension from a generated file to the registry.</div>
</li>
</ul>
<a name="add(com.google.protobuf.Descriptors.FieldDescriptor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(<a href="../../../com/google/protobuf/Descriptors.FieldDescriptor.html" title="class in com.google.protobuf">Descriptors.FieldDescriptor</a>&nbsp;type)</pre>
<div class="block">Add a non-message-type extension to the registry by descriptor.</div>
</li>
</ul>
<a name="add(com.google.protobuf.Descriptors.FieldDescriptor, com.google.protobuf.Message)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(<a href="../../../com/google/protobuf/Descriptors.FieldDescriptor.html" title="class in com.google.protobuf">Descriptors.FieldDescriptor</a>&nbsp;type,
       <a href="../../../com/google/protobuf/Message.html" title="interface in com.google.protobuf">Message</a>&nbsp;defaultInstance)</pre>
<div class="block">Add a message-type extension to the registry by descriptor.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ExtensionRegistry.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/google/protobuf/DynamicMessage.Builder.html" title="class in com.google.protobuf"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/google/protobuf/ExtensionRegistry.ExtensionInfo.html" title="class in com.google.protobuf"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/google/protobuf/ExtensionRegistry.html" target="_top">Frames</a></li>
<li><a href="ExtensionRegistry.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
